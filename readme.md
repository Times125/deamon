# Windows进程监控程序

## 如何使用
- 首先在`sys_config.yaml`文件中添加需要监控的目标程序的配置信息；
``` yaml
ProgramName: # 程序名
  directory: 'D:/Repositories/deamon' # 程序工作目录
  logfile: 'D:/Repositories/deamon/demo.out' # 程序输出到日志路径
  cmdline: 'python demo.py' # 程序启动命令行
  retries:  -1 # 程序失败重启次数，默认为 -1，表示不限制重启次数
```
- 然后保存配置文件即可，监控程序会自动根据添加项，启动相应程序。

## 配置文件参数详细说明：
1. 首先需要确保严格按照`yaml`文件规范填写配置文件；
2. `ProgramName` 是需要监控的程序名称，可以任意命名，不能为空；
3. `directory` 为你程序所在的目录，如果需要程序在指定目录下运行，请在此次给出具体路径；
4. `logfile` 如果程序会在console中输出日志信息，而你有关心这些日志，则填写此项，所有的console日志都会输出到指定的文件中；
5. `cmdline` 程序启动命令行，可以带参数，比如`python demo.py -i 100 -o 200` 
6. `retries` 程序启动失败后，尝试重启次数，默认为-1，表示在程序启动失败后，一直尝试重启。此项需要填写一个正整数；

## 注意事项
1. 此进程监控程序可以动态加载配置文件，只需要简单配置`sys_config.yaml`后保存即可；
2. 程序会在给定的`directory`目录下生成`.pid`文件，此文件是判断程序是否存活的依据，请不要移动、修改、删除此文件；
3. 在目录`DaemonLogs`下可以查看程序启动日志；
4. 不要以任何方式停止此监控进程，否则会导致所有被监控程序退出； 
5. 有任何疑问、程序修改建议，请联系 `QQ:1251680944`